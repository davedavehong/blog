# 前后端分离的原理及意义

## 什么是前后端分离

首先明确前后端分离的定义以及主流的实现方式。

前端是browser层，直接与用户产生交互，后端是server层负责数据持久化和业务逻辑实现。

前后端分离，意味着架构上的分离解耦，前后端通过约定的API进行通信。同时也是业务逻辑的分离，处理处理按照实现成本和维护性等方面考量，在不同层级进行处理，而不是糅合在一起，没有能力边界。最后也是服务载体的隔离，后端服务可以API化，同时赋能给pc、mobile、native等跨端的前端容器，而不是给一个前端载体提供一套接口。

分离后的后端，将不再接管页面渲染，路由跳转等事情，只负责维护API提供前端需要的数据。

而这部分后端切割出来的事情，都由前端应用服务来实现。前端应用目前主要部署在node.js、nginx或者两者组合的服务器上，就相当于是在传统的开发流程中加了node这一层。

## 前后端分离的意义

前后端分离带来的解耦，增加了大型项目的可维护性。一个工程在开发过程中，随着复杂度的增加，分层是必然的，这也类似于MV*架构的意义，将复杂逻辑拆解，在不同层做合适的事情。而且也便于定位问题，一层层排查输入输出内容是否正常，从而确认故障点。

而之前前后端耦合的开发方式，其实是造成了双方的不痛快。前端想要调试真实环境，就得把后端一整套环境搭建起来，能改动的部分还是在纯前端的部分，后端有时候也得关心前端实现与优化。而且前端开发中的优化与控制也无法彻底实施，例如网络请求、资源打包与压缩、缓存控制等。

分离之后，对于后端来说可以说是彻底解脱了，可以关注于业务逻辑的沉淀与数据持久化层，对外只需按照约定提供API。那么当需要产出小程序、RN等平台时，就能以不变应万变，只需保证API的可靠性即可，而不用关心具体的前端载体。

边界划分清晰之后，就能做业务逻辑处理层级的切割，将前端展示相关的逻辑丢到前端载体，后端只负责数据维护与持久化。那么前端也就像是对于后端数据的反应容器。

而且前后端分离在整个业务线内成为事实标准之后，也有利于业务线之间的组合开发。前后端无需关心各自的技术栈与开发环境，各自还是在原先的技术栈上进行开发，就能对接其他业务线的数据源。这也避免了现在大前端环境下，开发人员流动时，需要频繁切换开发环境的成本。

前后端能够分离的关键，也是nodejs的出现，使得JavaScript编写服务端成为现实。由此带来的打包部署、缓存控制、路由控制等方面，都可以让前端开发工程师完全掌控并优化，前端技术选型带来的调整也会更加的从容。

而且随着node的能力增强，已经能够使得JavaScript能够打通前端到服务端到数据持久化层的整个链路，那么这对于开发中后台项目来说就提供了新的可能。以前中后台的项目，例如数据报表展示、运营后台等，一般由后端维护，但对于复杂的实现还是比较吃力，后端的开发也很难跟上前端这几年技术栈飞速的迭代。而运行于后端环境下的工程，前端去介入的成本也是相对较高的，技术选型也较为落后，影响开发效率。那么js全栈的开发方式，则给中后台系统带来了质的飞跃，技术选型可以使用最新架构，用户体验与业务线的产品对齐，甚至可以产出脚手架之后，让后端也能快速上手开发。

## 总结

- 前后端分离切割了之前前后端耦合的灰色地带，前后端通过API通信，前端通过node架起了中间层。
- 前端可以接管前端打包部署、路由控制等前端该做的事情，并作出优化。
- 后端服务API化，可以快速适应跨端的前端载体。
- 前后端不需要关心对方的技术栈，实现业务线之间的对接。
- node的工程化落地与能力增强，提升了中后台项目的开发和使用体验。

## 参考文档

- [图解基于node.js实现前后端分离](https://yalishizhude.github.io/2016/04/19/front-back-separation/)

